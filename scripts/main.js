!function e(t,n,i){function r(a,u){if(!n[a]){if(!t[a]){var d="function"==typeof require&&require;if(!u&&d)return d(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var s=n[a]={exports:{}};t[a][0].call(s.exports,function(e){var n=t[a][1][e];return r(n?n:e)},s,s.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(t,n){i(this,e),this._filter=t,this.input=null,this.output=null}return r(e,[{key:"connect",value:function(e,t){this.input=e,this.output=t,console.log(this._filter),this.input.connect(this._filter),this._filter.connect(this.output)}},{key:"disconnect",value:function(){this._filter.disconnect(),this.input=null,this.output=null}}]),e}();n["default"]=o},{}],2:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=function(){function e(){i(this,e),this.canvas=document.querySelector("canvas"),this.ctx=this.canvas.getContext("2d"),this._setupDimensions(),document.addEventListener("resize",this._setupDimensions),document.addEventListener("orientationchange",this._setupDimensions)}return r(e,[{key:"_setupDimensions",value:function(){if(this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,window.devicePixelRatio>1){var e=this.canvas.width,t=this.canvas.height;this.canvas.width=e*window.devicePixelRatio,this.canvas.height=t*window.devicePixelRatio,this.canvas.style.width=e,this.canvas.style.height=t,this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio)}}},{key:"setLineWidth",value:function(e){this.lineWidth=e}},{key:"draw",value:function(e,t){this.ctx.strokeStyle="rgba(0, 0, 0, "+(e/255*1e3|0)/1e3+")",this.ctx.fillStyle="rgba(0, 0, 0, "+(e/255*1e3|0)/1e3+")",this.ctx.beginPath(),this.ctx.lineWidth=this.lineWidth,this.ctx.moveTo(t*this.lineWidth,0),this.ctx.lineTo(t*this.lineWidth,this.canvas.height),this.ctx.stroke()}},{key:"clear",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}}]),e}();n["default"]=o},{}],3:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var r=e("./canvas"),o=i(r),a=e("./_filter"),u=i(a),d=e("iphone-inline-video"),c=document.documentElement.clientWidth,s=(document.documentElement.clientHeight,void 0),l=void 0,v=void 0,f=f||webkitAudioContext,h=null,p=new f,m=2e4*(1-(c-200)/c),y=!1,w=new o["default"],g="ontouchstart"in window,b=document.querySelector("video");d(b,!1),b.pause();var E=function(e){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){p.decodeAudioData(t.response,function(e){h=e,g||_()},function(e){console.log("audio error",e)})},t.send(),g&&_()},_=function(e){if(!h)return!1;s=p.createBufferSource(),s.buffer=h,l.connect(s,v._filter),v.connect(l._filter,p.destination),s.start(0);var t=v._filter.frequencyBinCount,n=v._filter.fftSize/2;h=new Uint8Array(t),w.setLineWidth(c/n|0);var i=function o(){requestAnimationFrame(o),w.clear(),v._filter.getByteFrequencyData(h),x(s.context.currentTime);for(var e=0;e<n;e++)w.draw(h[e],e)};i();var r=function(e){e.preventDefault(),y||(y=!0,l._filter.Q.value=1),l._filter.frequency.value=16e3*(1-(c-e.pageX)/c)|0};document.body.addEventListener("mousemove",r),document.body.addEventListener("touchmove",r),document.body.addEventListener("touchstart",r)};E("audio/480.mp4"),l=new u["default"](p.createBiquadFilter(),{type:"bandpass",frequency:{value:m},Q:{value:0}}),v=new u["default"](p.createAnalyser(),{fftSize:32,maxDecibels:100});var x=function(e){var t=document.getElementById("video");t.readyState>3&&(t.currentTime=e)},T=function k(){E("audio/480.mp4"),_(),document.removeEventListener("touchend",k,!0)};document.addEventListener("touchend",T,!0)},{"./_filter":1,"./canvas":2,"iphone-inline-video":4}],4:[function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}function r(e){function t(r){n=requestAnimationFrame(t),e(r-(i||r)),i=r}var n,i;this.start=function(){n||t(0)},this.stop=function(){cancelAnimationFrame(n),n=null,i=0}}function o(e,t,n,i){function r(t){Boolean(e[n])===Boolean(i)&&t.stopImmediatePropagation(),delete e[n]}return e.addEventListener(t,r,!1),r}function a(e,t,n,i){function r(){return n[t]}function o(e){n[t]=e}i&&o(e[t]),Object.defineProperty(e,t,{get:r,set:o})}function u(e,t,n){n.addEventListener(t,function(){return e.dispatchEvent(new Event(t))})}function d(e,t){Promise.resolve().then(function(){e.dispatchEvent(new Event(t))})}function c(e){var t=new Audio;return u(e,"play",t),u(e,"playing",t),u(e,"pause",t),t.crossOrigin=e.crossOrigin,t.src=e.src||e.currentSrc||"data:",t}function s(e,t,n){(w||0)+200<Date.now()&&(e[_]=!0,w=Date.now()),n||(e.currentTime=t),k[++L%3]=100*t|0}function l(e){return e.driver.currentTime>=e.video.duration}function v(e){var t=this;t.video.readyState>=t.video.HAVE_FUTURE_DATA?(t.hasAudio||(t.driver.currentTime=t.video.currentTime+e*t.video.playbackRate/1e3,t.video.loop&&l(t)&&(t.driver.currentTime=0)),s(t.video,t.driver.currentTime)):t.video.networkState!==t.video.NETWORK_IDLE||t.video.buffered.length||t.video.load(),t.video.ended&&(delete t.video[_],t.video.pause(!0))}function f(){var e=this,t=e[E];return e.webkitDisplayingFullscreen?void e[x]():("data:"!==t.driver.src&&t.driver.src!==e.src&&(s(e,0,!0),t.driver.src=e.src),void(e.paused&&(t.paused=!1,e.buffered.length||e.load(),t.driver.play(),t.updater.start(),t.hasAudio||(d(e,"play"),t.video.readyState>=t.video.HAVE_ENOUGH_DATA&&d(e,"playing")))))}function h(e){var t=this,n=t[E];n.driver.pause(),n.updater.stop(),t.webkitDisplayingFullscreen&&t[T](),n.paused&&!e||(n.paused=!0,n.hasAudio||d(t,"pause"),t.ended&&(t[_]=!0,d(t,"ended")))}function p(e,t){var n=e[E]={};n.paused=!0,n.hasAudio=t,n.video=e,n.updater=new r(v.bind(n)),t?n.driver=c(e):(e.addEventListener("canplay",function(){e.paused||d(e,"playing")}),n.driver={src:e.src||e.currentSrc||"data:",muted:!0,paused:!0,pause:function(){n.driver.paused=!0},play:function(){n.driver.paused=!1,l(n)&&s(e,0)},get ended(){return l(n)}}),e.addEventListener("emptied",function(){var t=!n.driver.src||"data:"===n.driver.src;n.driver.src&&n.driver.src!==e.src&&(s(e,0,!0),n.driver.src=e.src,t?n.driver.play():n.updater.stop())},!1),e.addEventListener("webkitbeginfullscreen",function(){e.paused?t&&!n.driver.buffered.length&&n.driver.load():(e.pause(),e[x]())}),t&&(e.addEventListener("webkitendfullscreen",function(){n.driver.currentTime=e.currentTime}),e.addEventListener("seeking",function(){k.indexOf(100*e.currentTime|0)<0&&(n.driver.currentTime=e.currentTime)}))}function m(e){var t=e[E];e[x]=e.play,e[T]=e.pause,e.play=f,e.pause=h,a(e,"paused",t.driver),a(e,"muted",t.driver,!0),a(e,"playbackRate",t.driver,!0),a(e,"ended",t.driver),a(e,"loop",t.driver,!0),o(e,"seeking"),o(e,"seeked"),o(e,"timeupdate",_,!1),o(e,"ended",_,!1)}function y(e,t,n){void 0===t&&(t=!0),void 0===n&&(n=!0),n&&!b||e[E]||(p(e,t),m(e),e.classList.add("IIV"),!t&&e.autoplay&&e.play(),"MacIntel"!==navigator.platform&&"Windows"!==navigator.platform||console.warn("iphone-inline-video is not guaranteed to work in emulated environments"))}var w,g=i(e("poor-mans-symbol")),b=/iPhone|iPod/i.test(navigator.userAgent)&&void 0===document.head.style.grid,E=g(),_=g(),x=g("nativeplay"),T=g("nativepause"),k=[],L=0;y.isWhitelisted=b,t.exports=y},{"poor-mans-symbol":5}],5:[function(e,t,n){"use strict";var i="undefined"==typeof Symbol?function(e){return"@"+(e||"@")+Math.random()}:Symbol;t.exports=i},{}]},{},[3]);